{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\DMX HANG TRAM\\\\React Project\\\\Informatika\\\\Tai_Hiep\\\\Finite-State-Machine-Visualizer\\\\src\\\\Components\\\\TopBar.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst PlayIcon = () => /*#__PURE__*/_jsxDEV(\"svg\", {\n  width: \"36\",\n  height: \"32\",\n  viewBox: \"0 0 36 42\",\n  fill: \"none\",\n  xmlns: \"http://www.w3.org/2000/svg\",\n  children: /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M36 21L0 41.7846V0.215391L36 21Z\",\n    fill: \"#202020\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 11,\n    columnNumber: 5\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 4,\n  columnNumber: 3\n}, this);\n\n_c = PlayIcon;\n\nconst ReloadToInitialIcon = () => /*#__PURE__*/_jsxDEV(\"svg\", {\n  width: \"36\",\n  height: \"30\",\n  viewBox: \"0 0 36 30\",\n  fill: \"none\",\n  xmlns: \"http://www.w3.org/2000/svg\",\n  children: [/*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M31.3043 15C31.3043 11.7572 30.2077 8.60165 28.1789 6.00635C26.15 3.41105 23.2981 1.51574 20.0507 0.60445C16.8032 -0.306837 13.335 -0.185021 10.1659 0.951642C6.9967 2.08831 4.29727 4.1786 2.47209 6.90927C0.646908 9.63994 -0.205714 12.8639 0.0419945 16.0981C0.289703 19.3322 1.6244 22.4023 3.84607 24.8483C6.06774 27.2943 9.05673 28.9845 12.3651 29.6655C15.6735 30.3465 19.123 29.9817 22.1969 28.6258L15.6522 15H31.3043Z\",\n    fill: \"#202020\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 23,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(\"ellipse\", {\n    cx: \"15.6522\",\n    cy: \"15\",\n    rx: \"10.9565\",\n    ry: \"10.5\",\n    fill: \"white\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 27,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M29.3479 22.5L22.6957 15L29.3478 15L36 15L29.3479 22.5Z\",\n    fill: \"#202020\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 28,\n    columnNumber: 5\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 16,\n  columnNumber: 3\n}, this);\n\n_c2 = ReloadToInitialIcon;\n\nconst isInLimits = (sensor, environment) => {\n  if (Array.isArray(sensor.limit.value)) return sensor.limit.value[0] < sensor.value && sensor.value < sensor.limit.value[1];else if (sensor.limit.valueType === \"RELATIVE\") return sensor.limit.value > Math.abs(sensor.value - environment[sensor.limit.relativeToEnviron].value);\n  return sensor.value < sensor.limit.value;\n};\n\nconst meetsRequirements = (transition, environment) => {\n  let foundOne = false;\n  transition.requires.forEach(rq => {\n    if (environment[rq.which].value !== rq.value) {\n      foundOne = true;\n    }\n  });\n  if (foundOne) return false;\n  return true;\n};\n\nfunction TopBar(props) {\n  _s();\n\n  let [started, changeStarted] = useState(false);\n  useEffect(() => {\n    let slider = document.getElementsByClassName(\"top-bar\")[0];\n    let isDown = false;\n    let startX;\n    let scrollLeft;\n    slider.addEventListener(\"mousedown\", e => {\n      isDown = true;\n      slider.classList.add(\"active\");\n      startX = e.pageX - slider.offsetLeft;\n      scrollLeft = slider.scrollLeft;\n    });\n    slider.addEventListener(\"mouseleave\", () => {\n      isDown = false;\n      slider.classList.remove(\"active\");\n    });\n    slider.addEventListener(\"mouseup\", () => {\n      isDown = false;\n      slider.classList.remove(\"active\");\n    });\n    slider.addEventListener(\"mousemove\", e => {\n      if (!isDown) return;\n      e.preventDefault();\n      const x = e.pageX - slider.offsetLeft;\n      const walk = (x - startX) * 2;\n      slider.scrollLeft = scrollLeft - walk;\n    });\n  });\n\n  const canTransitionHappen = transition => {\n    for (let dep of transition.dependsOn) if (!isInLimits(props.sensors[dep], props.environment)) return false;\n\n    if (!meetsRequirements(transition, props.environment)) return false;\n    return true;\n  };\n\n  return /*#__PURE__*/_jsxDEV(React.Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"top-bar\",\n      children: Object.entries(props.transitions).map((_ref, ix) => {\n        let [k, v] = _ref;\n        return /*#__PURE__*/_jsxDEV(\"span\", {\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: `transition ${props.currentNode}-${k}`,\n            onClick: () => props.stepInGraph(k),\n            style: {\n              backgroundColor: canTransitionHappen(v) ? \"#9B9B9B\" : \"rgb(217,83,79)\"\n            },\n            children: v.label\n          }, `tr-top${ix}`, false, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 11\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      style: {\n        cursor: Object.entries(props.states).length === 0 ? \"not-allowed\" : \"pointer\"\n      },\n      disabled: Object.entries(props.states).length === 0,\n      className: \"start-button\",\n      onClick: () => {\n        props.stepInGraph(started ? null : props.initial);\n        changeStarted(!started);\n      },\n      children: started ? /*#__PURE__*/_jsxDEV(ReloadToInitialIcon, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 20\n      }, this) : /*#__PURE__*/_jsxDEV(PlayIcon, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 46\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 100,\n    columnNumber: 5\n  }, this);\n}\n\n_s(TopBar, \"P2JNINe6MsowVlkkvSE0weBfxkU=\");\n\n_c3 = TopBar;\nexport default TopBar;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"PlayIcon\");\n$RefreshReg$(_c2, \"ReloadToInitialIcon\");\n$RefreshReg$(_c3, \"TopBar\");","map":{"version":3,"sources":["C:/Users/DMX HANG TRAM/React Project/Informatika/Tai_Hiep/Finite-State-Machine-Visualizer/src/Components/TopBar.jsx"],"names":["React","useState","useEffect","PlayIcon","ReloadToInitialIcon","isInLimits","sensor","environment","Array","isArray","limit","value","valueType","Math","abs","relativeToEnviron","meetsRequirements","transition","foundOne","requires","forEach","rq","which","TopBar","props","started","changeStarted","slider","document","getElementsByClassName","isDown","startX","scrollLeft","addEventListener","e","classList","add","pageX","offsetLeft","remove","preventDefault","x","walk","canTransitionHappen","dep","dependsOn","sensors","Object","entries","transitions","map","ix","k","v","currentNode","stepInGraph","backgroundColor","label","cursor","states","length","initial"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\n\r\nconst PlayIcon = () => (\r\n  <svg\r\n    width=\"36\"\r\n    height=\"32\"\r\n    viewBox=\"0 0 36 42\"\r\n    fill=\"none\"\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n  >\r\n    <path d=\"M36 21L0 41.7846V0.215391L36 21Z\" fill=\"#202020\" />\r\n  </svg>\r\n);\r\n\r\nconst ReloadToInitialIcon = () => (\r\n  <svg\r\n    width=\"36\"\r\n    height=\"30\"\r\n    viewBox=\"0 0 36 30\"\r\n    fill=\"none\"\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n  >\r\n    <path\r\n      d=\"M31.3043 15C31.3043 11.7572 30.2077 8.60165 28.1789 6.00635C26.15 3.41105 23.2981 1.51574 20.0507 0.60445C16.8032 -0.306837 13.335 -0.185021 10.1659 0.951642C6.9967 2.08831 4.29727 4.1786 2.47209 6.90927C0.646908 9.63994 -0.205714 12.8639 0.0419945 16.0981C0.289703 19.3322 1.6244 22.4023 3.84607 24.8483C6.06774 27.2943 9.05673 28.9845 12.3651 29.6655C15.6735 30.3465 19.123 29.9817 22.1969 28.6258L15.6522 15H31.3043Z\"\r\n      fill=\"#202020\"\r\n    />\r\n    <ellipse cx=\"15.6522\" cy=\"15\" rx=\"10.9565\" ry=\"10.5\" fill=\"white\" />\r\n    <path\r\n      d=\"M29.3479 22.5L22.6957 15L29.3478 15L36 15L29.3479 22.5Z\"\r\n      fill=\"#202020\"\r\n    />\r\n  </svg>\r\n);\r\n\r\nconst isInLimits = (sensor, environment) => {\r\n  if (Array.isArray(sensor.limit.value))\r\n    return (\r\n      sensor.limit.value[0] < sensor.value &&\r\n      sensor.value < sensor.limit.value[1]\r\n    );\r\n  else if (sensor.limit.valueType === \"RELATIVE\")\r\n    return (\r\n      sensor.limit.value >\r\n      Math.abs(sensor.value - environment[sensor.limit.relativeToEnviron].value)\r\n    );\r\n  return sensor.value < sensor.limit.value;\r\n};\r\n\r\nconst meetsRequirements = (transition, environment) => {\r\n  let foundOne = false;\r\n  transition.requires.forEach((rq) => {\r\n    if (environment[rq.which].value !== rq.value) {\r\n      foundOne = true;\r\n    }\r\n  });\r\n\r\n  if (foundOne) return false;\r\n  return true;\r\n};\r\n\r\nfunction TopBar(props) {\r\n  let [started, changeStarted] = useState(false);\r\n\r\n  useEffect(() => {\r\n    let slider = document.getElementsByClassName(\"top-bar\")[0];\r\n    let isDown = false;\r\n    let startX;\r\n    let scrollLeft;\r\n\r\n    slider.addEventListener(\"mousedown\", (e) => {\r\n      isDown = true;\r\n      slider.classList.add(\"active\");\r\n      startX = e.pageX - slider.offsetLeft;\r\n      scrollLeft = slider.scrollLeft;\r\n    });\r\n    slider.addEventListener(\"mouseleave\", () => {\r\n      isDown = false;\r\n      slider.classList.remove(\"active\");\r\n    });\r\n    slider.addEventListener(\"mouseup\", () => {\r\n      isDown = false;\r\n      slider.classList.remove(\"active\");\r\n    });\r\n    slider.addEventListener(\"mousemove\", (e) => {\r\n      if (!isDown) return;\r\n      e.preventDefault();\r\n      const x = e.pageX - slider.offsetLeft;\r\n      const walk = (x - startX) * 2;\r\n      slider.scrollLeft = scrollLeft - walk;\r\n    });\r\n  });\r\n\r\n  const canTransitionHappen = (transition) => {\r\n    for (let dep of transition.dependsOn)\r\n      if (!isInLimits(props.sensors[dep], props.environment)) return false;\r\n    if (!meetsRequirements(transition, props.environment)) return false;\r\n    return true;\r\n  };\r\n  return (\r\n    <React.Fragment>\r\n      <div className=\"top-bar\">\r\n        {Object.entries(props.transitions).map(([k, v], ix) => (\r\n          <span>\r\n            <button\r\n              className={`transition ${props.currentNode}-${k}`}\r\n              key={`tr-top${ix}`}\r\n              onClick={() => props.stepInGraph(k)}\r\n              style={{\r\n                backgroundColor: canTransitionHappen(v)\r\n                  ? \"#9B9B9B\"\r\n                  : \"rgb(217,83,79)\",\r\n              }}\r\n            >\r\n              {v.label}\r\n            </button>\r\n          </span>\r\n        ))}\r\n      </div>\r\n      <button\r\n        style={{\r\n          cursor:\r\n            Object.entries(props.states).length === 0\r\n              ? \"not-allowed\"\r\n              : \"pointer\",\r\n        }}\r\n        disabled={Object.entries(props.states).length === 0}\r\n        className=\"start-button\"\r\n        onClick={() => {\r\n          props.stepInGraph(started ? null : props.initial);\r\n          changeStarted(!started);\r\n        }}\r\n      >\r\n        {started ? <ReloadToInitialIcon /> : <PlayIcon />}\r\n      </button>\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nexport default TopBar;\r\n"]},"metadata":{},"sourceType":"module"}